library(devtools)
library(usethis)
use_data_raw(name = "rodentsmx")
## code to prepare `rodentsmx` dataset goes here
rodents_mexico <- mdd::get_mdd_map(Order = "Rodentia", country = "Mexico", cropCountry = TRUE)
## code to prepare `rodentsmx` dataset goes here
library(mdd)
rodents_mexico <- mdd::get_mdd_map(Order = "Rodentia", country = "Mexico", cropCountry = TRUE)
rodents_mexico
usethis::use_data(rodentsmx, overwrite = TRUE)
rodentsmx <- mdd::get_mdd_map(Order = "Rodentia", country = "Mexico", cropCountry = TRUE)
rodentsmx
library(terra)
rodentsmx
terra::wrap(rodentsmx)
rodentsmx
rodentsmx <- terra::wrap(rodentsmx)
readr::write_rds(rodentsmx, "data-raw/rodentsmx.rds", compress = "xz")
usethis::use_data(rodentsmx, overwrite = TRUE)
rodentsmx
rodentsmx
usethis::use_data(rodentsmx, overwrite = TRUE)
usethis::use_data(rodentsmx, overwrite = TRUE, internal = TRUE)
usethis::use_data(rodentsmx, overwrite = TRUE, internal = TRUE)
library(pam)
library(pam)
source("C:/Users/alroble8/OneDrive - Arizona State University/pam/data-raw/rodentsmx.R", echo=TRUE)
rodents_mexico
rodentsmx <- mdd::get_mdd_map(Order = "Rodentia", country = "Mexico", cropCountry = TRUE)
rodentsmx
View(rodentsmx)
document()
document()
document()
document()
document()
rodentsmx <- mdd::get_mdd_map(Order = "Rodentia", country = "Mexico", cropCountry = TRUE)
rodentsmx <- terra::wrap(rodentsmx)
usethis::use_data(rodentsmx, overwrite = TRUE, internal = FALSE)
readr::write_rds(rodentsmx, "data-raw/rodentsmx.rds", compress = "xz")
document()
usethis::use_package("terra")
usethis::use_package("utils")
usethis::use_package("readr")
document()
get_rodentsmx()
readr::read_rds("https://phymaps.nyc3.digitaloceanspaces.com/rodentsmx.rds")
readr::read_rds("data-raw/rodentsmx.rds")
readr::read_rds("data-raw/rodentsmx.rds")
readr::read_rds("https://phymaps.nyc3.digitaloceanspaces.com/rodentsmx.rds")
readr::read_rds("https://phymaps.nyc3.digitaloceanspaces.com/rodentsmx.rds")
readr::read_rds("https://phymaps.nyc3.digitaloceanspaces.com/rodentsmx.rds")
readr::read_rds("data-raw/rodentsmx.rds")
unwrap(readr::read_rds("data-raw/rodentsmx.rds"))
unwrap(readr::read_rds("data-raw/rodentsmx.rds")) %>% terra::plot()
terra::plot(unwrap(readr::read_rds("data-raw/rodentsmx.rds")) )
url <- "https://phymaps.nyc3.digitaloceanspaces.com/rodentsmx.rds"
shp <- readr::read_rds(url)
readr::write_rds(rodentsmx, "data-raw/rodentsmx.rds")
readr::read_rds("https://phymaps.nyc3.digitaloceanspaces.com/rodentsmx.rds")
update.packages()
readr::read_rds("https://phymaps.nyc3.digitaloceanspaces.com/rodentsmx.rds")
use_citation()
usethis::use_citation()
library(pam)
devtools::check(cran = TRUE)
devtools::check(cran = TRUE)
library(pam)
citation("pam")
library(pam)
citation("pam")
usethis::use_citation()
library(pam)
citation("pam")
citation("fastJaccard")
library(pam)
get_rodentia_mexico()
shp <- get_rodentia_mexico()
library(terra)
plot(shp)
worldPCA
worldPCA <- pam::get_world_pca()
worldPCA
shpPCA <- terra::crop(worldPCA, shp, mask = TRUE)
shpPCA
plot(shpPCA)
PCAminmax <- terra::minmax(shpPCA)
PCAminmax
x1 <- round(PCAminmax[1])
x2 <- ceiling(PCAminmax[2])
y1 <- round(PCAminmax[3])
y2 <- ceiling(PCAminmax[4])
x <- seq(x1, x2, 0.1)
y <- seq(y1, y2, 0.1)
env_grid <- tidyr::expand_grid(x, y)
shp
shpPCA
shp
spEnvDf <- terra::extract(shpPCA, shp )
spEnvDf
as_tibble()
spEnvDf %>% as_tibble()
spEnvDf
spEnvDf %>% tibble::as_tibble()
spEnvDf
shpPCA
spEnvDf %>% tibble::as_tibble()
spEnvDf %>% tibble::as_tibble() %>% View()
shp
shpPCA
shp
spEnvDf %>% tibble::as_tibble() %>% View()
shpPCA
spEnvDf
?terra::extract
spEnvDf
library(tidyverse)
spEnvDf
spEnvDf %>% tibble::as_tibble()
spEnvDf %>% spread(ID, value)
spEnvDf %>% spread(ID)
spEnvDf %>%
mutate(value = 1)
spEnvDf %>%
mutate(value = 1) %>%
spread(ID, value)
spEnvDf %>%
mutate(value = 1) %>%
spread(ID, value, fill = 0)
spEnvDf %>%
as_tibble() %>%
mutate(value = 1) %>%
spread(ID, value, fill = 0)
spEnvDf %>%
as_tibble() %>%
mutate(value = 1) %>%
spread(ID, value, fill = 0) %>% View()
spEnvDf
spEnvDf %>%
as_tibble() %>%
mutate(value = 1)
shp
terra::as.points(shp)
pts <- terra::as.points(shp)
pts
pts$sciname
pts %>% as.data.frame()
pts %>% as.data.frame(xy = TRUE)
pts %>% terra::as.data.frame(xy = TRUE)
pts
librayr(terra)
library(terra)
spEnvDf
shp
as.data.frame(shp)
as.data.frame(pts)
as.data.frame(shp, xy = TRUE)
terra::as.data.frame
?terra::as.data.frame
terra::as.points
?terra::as.points
pts
plot(pts)
pts
pts %>% terra::as.data.frame(xy = TRUE)
pts
pts %>%
sf::st_as_sf()
pts %>%
sf::st_as_sf() %>%
as_tibble()
get_rodentia_mexico()
library(pam)
PAM <- get_geo_pam(get_rodentia_mexico())
PAM
